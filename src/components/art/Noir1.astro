---
interface Props {
  compact?: boolean;
}
const { compact = false } = Astro.props;
const h = compact ? "h-48" : "h-96 md:h-[520px]";
---

<div class={`relative overflow-hidden w-full ${h}`} style="background:#0a0a0a;">
  <!-- neo-noir blobs -->
  <svg
    class="absolute inset-0 w-full h-full"
    viewBox="0 0 800 520"
    preserveAspectRatio="xMidYMid slice"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <filter id="blur-noir">
        <feGaussianBlur stdDeviation="40"></feGaussianBlur>
      </filter>
    </defs>
    <circle
      cx="150"
      cy="260"
      r="220"
      fill="#e63329"
      opacity="0.7"
      filter="url(#blur-noir)"></circle>
    <circle
      cx="650"
      cy="100"
      r="180"
      fill="#1a1aff"
      opacity="0.5"
      filter="url(#blur-noir)"></circle>
    <circle
      cx="500"
      cy="420"
      r="160"
      fill="#f5c842"
      opacity="0.35"
      filter="url(#blur-noir)"></circle>
    <circle
      cx="750"
      cy="350"
      r="120"
      fill="#00c896"
      opacity="0.3"
      filter="url(#blur-noir)"></circle>
    <!-- sharp geometric cuts -->
    <rect x="0" y="0" width="3" height="520" fill="#e63329" opacity="0.9"
    ></rect>
    <rect x="797" y="0" width="3" height="520" fill="#e63329" opacity="0.9"
    ></rect>
    <line
      x1="0"
      y1="0"
      x2="800"
      y2="520"
      stroke="rgba(245,240,232,0.08)"
      stroke-width="1"></line>
    <line
      x1="800"
      y1="0"
      x2="0"
      y2="520"
      stroke="rgba(245,240,232,0.08)"
      stroke-width="1"></line>
  </svg>
  <!-- grain -->
  <div class="noir-grain absolute inset-0"></div>
  <!-- text -->
  <div class="absolute inset-0 flex items-end justify-start p-8">
    <span
      class="font-condensed font-black italic text-cream select-none"
      style="font-size: clamp(3rem, 10vw, 7rem); letter-spacing: -0.03em; opacity: 0.12; line-height: 1;"
      >DARK</span
    >
  </div>
</div>

<style>
  .noir-grain {
    opacity: 0.06;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size: 128px;
  }
</style>
